{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\OneDrive\\\\Desktop\\\\Smart_Expense_Tracker\\\\client\\\\src\\\\components\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../api.ts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const month = new Date().toISOString().slice(0, 7);\n  const [spent, setSpent] = useState(0);\n  const [budget, setBudget] = useState(\"\");\n  useEffect(() => {\n    API.get(\"/expenses/monthly\", {\n      params: {\n        month\n      }\n    }).then(r => setSpent(r.data.total)).catch(() => setSpent(0));\n    API.get(\"/budget\", {\n      params: {\n        month\n      }\n    }).then(r => {\n      var _r$data, _r$data$limit;\n      return setBudget(((_r$data = r.data) === null || _r$data === void 0 ? void 0 : (_r$data$limit = _r$data.limit) === null || _r$data$limit === void 0 ? void 0 : _r$data$limit.toString()) || \"\");\n    }).catch(() => setBudget(\"\"));\n  }, [month]);\n  const saveBudget = () => {\n    if (!budget || isNaN(parseFloat(budget))) return alert(\"Invalid budget\");\n    API.post(\"/budget\", {\n      month,\n      limit: parseFloat(budget)\n    }).then(() => alert(\"Budget saved\")).catch(() => alert(\"Failed to save budget\"));\n  };\n  const percent = budget ? Math.min(spent / parseFloat(budget) * 100, 100) : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Spent: \\u20B9\", spent.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"number\",\n        value: budget,\n        placeholder: \"Budget\",\n        onChange: e => setBudget(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: saveBudget,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `progress-fill ${percent < 100 ? 'green' : 'red'}`,\n        style: {\n          width: `${percent}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [percent.toFixed(1), \"% of budget used\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"okDFRnbM3JuVyJDTPFVfWcNr2iI=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","API","jsxDEV","_jsxDEV","Dashboard","_s","month","Date","toISOString","slice","spent","setSpent","budget","setBudget","get","params","then","r","data","total","catch","_r$data","_r$data$limit","limit","toString","saveBudget","isNaN","parseFloat","alert","post","percent","Math","min","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","type","value","placeholder","onChange","e","target","onClick","style","width","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/Smart_Expense_Tracker/client/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../api.ts\";\r\n\r\nexport default function Dashboard() {\r\n  const month = new Date().toISOString().slice(0,7);\r\n  const [spent, setSpent] = useState(0);\r\n  const [budget, setBudget] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    API.get(\"/expenses/monthly\", { params:{month} }).then(r => setSpent(r.data.total)).catch(() => setSpent(0));\r\n    API.get(\"/budget\", { params:{month} }).then(r => setBudget(r.data?.limit?.toString() || \"\")).catch(() => setBudget(\"\"));\r\n  }, [month]);\r\n\r\n  const saveBudget = () => {\r\n    if (!budget || isNaN(parseFloat(budget))) return alert(\"Invalid budget\");\r\n    API.post(\"/budget\", { month, limit: parseFloat(budget) })\r\n      .then(() => alert(\"Budget saved\"))\r\n      .catch(() => alert(\"Failed to save budget\"));\r\n  };\r\n\r\n  const percent = budget ? Math.min((spent / parseFloat(budget)) * 100, 100) : 0;\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      <h3>Dashboard</h3>\r\n      <p>Spent: â‚¹{spent.toFixed(2)}</p>\r\n      <div className=\"flex-row\">\r\n        <input className=\"input\" type=\"number\" value={budget}\r\n               placeholder=\"Budget\" onChange={e => setBudget(e.target.value)} />\r\n        <button className=\"btn\" onClick={saveBudget}>Save</button>\r\n      </div>\r\n      <div className=\"progress-bar\">\r\n        <div className={`progress-fill ${percent < 100 ? 'green' : 'red'}`} style={{width: `${percent}%`}}></div>\r\n      </div>\r\n      <p>{percent.toFixed(1)}% of budget used</p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}